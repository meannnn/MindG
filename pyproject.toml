[tool.pyright]
include = ["**/*.py"]
exclude = [
    "**/__pycache__",
    "**/node_modules",
    "**/venv",
    "**/.venv",
    "**/dist",
    "**/build",
    "**/*.toml",
    "pyproject.toml"
]
# No venv - using system Python
pythonVersion = "3.13"
typeCheckingMode = "basic"
reportMissingImports = false  # Suppress false positive import warnings for installed packages
reportMissingTypeStubs = false
reportMissingModuleSource = false  # Suppress import resolution errors for known installed packages
pythonPlatform = "Linux"
extraPaths = [
    "C:\\Users\\roywa\\AppData\\Roaming\\Python\\Python313\\site-packages"
]

[tool.pytest.ini_options]
# Pytest configuration for MindGraph
pythonpath = ["."]
python_files = "test_*.py"
python_classes = "Test*"
python_functions = "test_*"
testpaths = ["tests"]
asyncio_mode = "auto"
asyncio_default_fixture_loop_scope = "function"
addopts = [
    "-v",
    "--strict-markers",
    "--tb=short",
    "--disable-warnings"
]
markers = [
    "asyncio: marks tests as async (deselect with '-m \"not asyncio\"')",
    "slow: marks tests as slow (deselect with '-m \"not slow\"')"
]

[tool.pylint.main]
# Exclude patterns
ignore-patterns = [
    "^venv/",
    "^.venv/",
    "^__pycache__/",
    "^node_modules/",
    "^dist/",
    "^build/",
    "^.*\\.toml$",
    "^pyproject\\.toml$",
]

# Output format
output-format = "text"

# Maximum line length
max-line-length = 120

# Disable checks that will be fixed manually
disable = [
    "too-few-public-methods",  # Common for data classes and utilities
    "broad-except",  # Exception handling often needs to catch all exceptions for error recovery
]

[tool.pylint.format]
max-line-length = 120
indent-string = "    "

[tool.pylint.design]
# Complexity thresholds
max-args = 7
max-locals = 15
max-branches = 12
max-statements = 50
max-attributes = 10
max-public-methods = 20
max-returns = 6
max-bool-expr = 5

[tool.pylint.basic]
# Good variable names regex
good-names = [
    "i",
    "j",
    "k",
    "ex",
    "Run",
    "_",
    "id",
    "db",
    "api",
    "url",
    "uid",
    "e",
    "x",
    "y",
    "z",
]
# Allow UPPER_CASE for class attributes (constants)
class-attribute-rgx = "^[A-Z][A-Z0-9_]*$|^[a-z_][a-z0-9_]*$"
# Allow UPPER_CASE for attributes (properties that represent constants)
attr-rgx = "^[A-Z][A-Z0-9_]*$|^[a-z_][a-z0-9_]*$"

[tool.pylint.messages_control]
# Don't show these specific messages (will fix manually)
disable = [
    "broad-except",  # Exception handling often needs to catch all exceptions for error recovery
]

[tool.pylint.typecheck]
# Ignore missing imports for now (will fix)
ignored-modules = []